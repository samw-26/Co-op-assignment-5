<h1 class="banner">Database Editor</h1>

    <div id="headerContainer">
        <div>
            <label for="tableSelect"><strong>Table:</strong></label>
            <select id="tableSelect" class="headerInputs" [formControl]="tableNameSelect" (change)="onTableChange()">
                @for (table of tables; track $index) {
                    <option value={{table}}>{{table}}</option>
                }
            </select>
        </div>
        <div>
            <label for="filterInput"><strong>Filter:</strong></label>
            <input id="filterInput" class="headerInputs" type="text" (input)="filterRows($event.target)">
        </div>
        <button id="insertBtn" mat-raised-button [routerLink]="tblservice.tableName + '/insert'">Insert</button>
    </div>
    <div class="tableContainer">
            <table mat-table [dataSource]="filteredRows">
                @for (c of tableHeaders; track $index) {
                    <ng-container matColumnDef={{c}}>
                        <th mat-header-cell *matHeaderCellDef> {{c}} </th>
                        <td mat-cell *matCellDef="let row"
                        title={{row[c]}}>{{row[c] ? row[c].length > 50 ? row[c].slice(0, 47) + "..." : row[c] : row[c]}}</td>
                    </ng-container>
                }
                <tr mat-header-row *matHeaderRowDef="tableHeaders"></tr>
                <tr mat-row *matRowDef="let row; columns: tableHeaders" 
                [routerLink]="tblservice.tableName + '/details'" [queryParams]="getQueryParams(row)"></tr>
            </table>
            <mat-paginator
            [pageSize]="10"
            [pageSizeOptions]="[5,10,15,20,50]"
            showFirstLastButtons>
            </mat-paginator>
    </div>
